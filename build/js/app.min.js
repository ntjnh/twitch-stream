const channels=["shroud","OgamingSC2","cretetion","syndicate","ninja","shlorox","zryiedrokmijn","amaz","RobotCaleb","elajjaz","lirik","tsm_dyrus","riotgames","silvername"];function filter(){const e=document.getElementById("showAll"),t=document.getElementById("showOnline"),s=document.getElementById("showOffline");e.addEventListener("click",()=>{e.setAttribute("disabled","disabled"),t.removeAttribute("disabled"),s.removeAttribute("disabled");const n=document.querySelectorAll(".offline, .online");for(const e of n)e.style.display="block"}),t.addEventListener("click",()=>{e.removeAttribute("disabled"),s.removeAttribute("disabled"),t.setAttribute("disabled","disabled");const n=document.querySelectorAll(".online"),i=document.querySelectorAll(".offline");for(const e of n)e.style.display="block";for(const e of i)e.style.display="none"}),s.addEventListener("click",()=>{e.removeAttribute("disabled"),t.removeAttribute("disabled"),s.setAttribute("disabled","disabled");const n=document.querySelectorAll(".online"),i=document.querySelectorAll(".offline");for(const e of i)e.style.display="block";for(const e of n)e.style.display="none"})}channels.forEach(e=>{const t=document.createElement("div");t.classList.add("channel-card","col-xs-6","col-sm-4","col-md-3");const s=document.createElement("img");s.classList.add("img-responsive"),t.appendChild(s);const n=document.createElement("h3"),i=document.createElement("a");i.setAttribute("href","https://www.twitch.tv/"+e),i.setAttribute("target","_blank");const a=document.createElement("i");a.classList.add("fa","fa-circle-o"),i.textContent=e,n.appendChild(i),n.appendChild(a),t.appendChild(n);const l=document.createElement("p");l.classList.add("text-muted","status"),document.querySelector(".channels").appendChild(t);const o="ecek1qkikyqi8smqzpazytcjgok63h",d="https://api.twitch.tv/helix/streams?user_login="+e,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){const n=JSON.parse(c.responseText),i="https://api.twitch.tv/helix/users?login="+e,d=new XMLHttpRequest;if(d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){const e=JSON.parse(d.responseText);e.data[0]?e.data[0].profile_image_url?s.setAttribute("src",e.data[0].profile_image_url):s.setAttribute("src","generic.jpg"):(l.innerHTML="<em>Channel not found.</em>",t.appendChild(l),s.setAttribute("src","generic.jpg"))}},d.open("GET",i),d.setRequestHeader("Content-Type","application/json; charset=UTF-8"),d.setRequestHeader("Client-ID",o),d.send(),void 0===n.data[0])l.innerHTML="<em>Offline</em>",t.appendChild(l),t.classList.add("offline");else if("live"==n.data[0].type){const e=n.data[0].viewer_count;l.innerHTML=`${e} viewers`,t.appendChild(l),t.classList.add("online"),l.classList.remove("text-muted"),l.classList.add("text-success"),a.classList.remove("fa-circle-o"),a.classList.add("fa-circle")}}},c.open("GET",d),c.setRequestHeader("Content-Type","application/json; charset=UTF-8"),c.setRequestHeader("Client-ID",o),c.send()}),filter();