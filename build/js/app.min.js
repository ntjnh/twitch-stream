const users=["ESL_CSGO","OgamingSC2","cretetion","RocketLeague","ninja","CapcomFighters","DrDisrespect","Fortnite","GRONKH","lirik","thegameawards","riotgames","silvername"],clientID="ecek1qkikyqi8smqzpazytcjgok63h";function getUserImage(e,t){const s=`https://api.twitch.tv/helix/users?login=${e}`,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){const e=JSON.parse(n.responseText).data[0],s=document.querySelector(`#user-${t} img`);let i;i=e.profile_image_url?e.profile_image_url:"404.jpg",s.setAttribute("src",i)}},n.open("GET",s),n.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n.setRequestHeader("Client-ID",clientID),n.send()}function getViewerCount(e,t){const s=`https://api.twitch.tv/helix/streams?user_login=${e}`,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){const e=JSON.parse(n.responseText).data[0];e?isOnline(t,e):isOffline(t,e)}},n.open("GET",s),n.setRequestHeader("Content-Type","applicaion/json; charset=UTF-8"),n.setRequestHeader("Client-ID",clientID),n.send()}function isOnline(e,t){document.getElementById(`user-${e}`).classList.add("online");const s=document.querySelector(`#user-${e} .status`);s.textContent=`${t.viewer_count} viewers`,s.classList.add("status--online"),document.querySelector(`#user-${e} h3 .fa`).classList.add("fa-circle")}function isOffline(e){document.getElementById(`user-${e}`).classList.add("offline");const t=document.querySelector(`#user-${e} .status`);t.innerHTML="<em>Offline</em>",t.classList.add("status--offline"),document.querySelector(`#user-${e} h3 .fa`).classList.add("fa-circle-o")}function createUserCard(e,t){const s=`https://www.twitch.tv/${e}`,n=document.createElement("div");n.setAttribute("id",`user-${t}`),n.classList.add("stream","col-6","col-sm-4","col-md-3");const i=document.createElement("img");i.classList.add("img-fluid"),n.appendChild(i);const o=document.createElement("h3");o.classList.add("lead","mt-3"),n.appendChild(o);const l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("target","_blank"),l.textContent=e,o.appendChild(l),document.querySelector(".streams").appendChild(n);const a=document.createElement("i");a.classList.add("fa"),o.appendChild(a);const c=document.createElement("p");c.classList.add("status"),n.appendChild(c)}function filter(){const e=document.getElementById("showAll"),t=document.getElementById("showOnline"),s=document.getElementById("showOffline");e.addEventListener("click",()=>{e.setAttribute("disabled","disabled"),t.removeAttribute("disabled"),s.removeAttribute("disabled");const n=document.querySelectorAll(".offline, .online");for(const e of n)e.style.display="block"}),t.addEventListener("click",()=>{e.removeAttribute("disabled"),s.removeAttribute("disabled"),t.setAttribute("disabled","disabled");const n=document.querySelectorAll(".online"),i=document.querySelectorAll(".offline");for(const e of n)e.style.display="block";for(const e of i)e.style.display="none"}),s.addEventListener("click",()=>{e.removeAttribute("disabled"),t.removeAttribute("disabled"),s.setAttribute("disabled","disabled");const n=document.querySelectorAll(".online"),i=document.querySelectorAll(".offline");for(const e of i)e.style.display="block";for(const e of n)e.style.display="none"})}users.forEach((e,t)=>{createUserCard(e,t),getUserImage(e,t),getViewerCount(e,t)}),filter();