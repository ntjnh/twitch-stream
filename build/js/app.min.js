const users=["ESL_CSGO","OgamingSC2","cretetion","RocketLeague","ninja","CapcomFighters","DrDisrespect","Fortnite","GRONKH","lirik","thegameawards","riotgames","silvername"],clientID="ecek1qkikyqi8smqzpazytcjgok63h";function getUserImage(e,t){fetch(`https://api.twitch.tv/helix/users?login=${e}`,{headers:new Headers({"Content-Type":"application/json; charset=UTF-8","Client-ID":clientID})}).then(e=>e.json()).then(e=>{const s=document.querySelector(`#user-${t} img`),n=e.data[0].profile_image_url;let i=n||"404.jpg";s.setAttribute("src",i)})}function getViewerCount(e,t){fetch(`https://api.twitch.tv/helix/streams?user_login=${e}`,{headers:new Headers({"Content-Type":"application/json; charset=UTF-8","Client-ID":clientID})}).then(e=>e.json()).then(e=>{const s=e.data[0];setStatus(s?"online":"offline",t,s)})}function setStatus(e,t,s){document.getElementById(`user-${t}`).classList.add(e);const n=document.querySelector(`#user-${t} .status`);"online"===e?n.textContent=`${s.viewer_count} viewers`:n.innerHTML="<em>Offline</em>",n.classList.add(`status--${e}`),document.querySelector(`#user-${t} h3 .fa`).classList.add(`status--${e}`,"online"===e?"fa-circle":"fa-circle-o")}function createCard(e,t){const s=`https://www.twitch.tv/${e}`,n=document.createElement("div");n.setAttribute("id",`user-${t}`),n.classList.add("stream","col-6","col-sm-4","col-md-3");const i=document.createElement("img");i.classList.add("img-fluid"),n.appendChild(i);const l=document.createElement("h3");l.classList.add("lead","mt-3"),n.appendChild(l);const o=document.createElement("a");o.setAttribute("class","stream__link"),o.setAttribute("href",s),o.setAttribute("target","_blank"),o.textContent=e,l.appendChild(o),document.querySelector(".streams").appendChild(n);const c=document.createElement("i");c.classList.add("status-icon","fa"),l.appendChild(c);const a=document.createElement("p");a.classList.add("status"),n.appendChild(a)}function filter(){const e=document.getElementById("showAll"),t=document.getElementById("showOnline"),s=document.getElementById("showOffline");e.addEventListener("click",()=>{e.setAttribute("disabled","disabled"),t.removeAttribute("disabled"),s.removeAttribute("disabled");const n=document.querySelectorAll(".offline, .online");for(const e of n)e.style.display="block"}),t.addEventListener("click",()=>{e.removeAttribute("disabled"),s.removeAttribute("disabled"),t.setAttribute("disabled","disabled");const n=document.querySelectorAll(".online"),i=document.querySelectorAll(".offline");for(const e of n)e.style.display="block";for(const e of i)e.style.display="none"}),s.addEventListener("click",()=>{e.removeAttribute("disabled"),t.removeAttribute("disabled"),s.setAttribute("disabled","disabled");const n=document.querySelectorAll(".online"),i=document.querySelectorAll(".offline");for(const e of i)e.style.display="block";for(const e of n)e.style.display="none"})}users.forEach((e,t)=>{createCard(e,t),getUserImage(e,t),getViewerCount(e,t)}),filter();